<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>textarea根据内容自适应高度</title>
</head>
<body>
    <div class="textarea-con">
        <div class="textarea-opacity common" id="contain"></div>
        <textarea class="textarea common" id="textarea"></textarea>
    </div>
    <script>
        var contain = document.getElementById('contain');
        var textarea = document.getElementById('textarea');
        textarea.addEventListener('input', function() {
            contain.innerHTML = this.value;
        });
    </script>
    <style>
    .textarea-con{
        position: relative;
    }
    .textarea{
        position: absolute;
        top:0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 2;
        background: #fff;
        overflow: hidden;
        resize: none;
        padding: 0;
        min-height: 30px;
    }
    .textarea-opacity{
        position: relative;
        z-index: -1;        
    }
    .common{
        line-height: 16px;
        font-size: 14px;
    }
    </style>
</body>
</html>